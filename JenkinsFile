pipeline {

  agent any
   
stages {
  stage('Build') {
      steps {
        bat 'mvn package'
      }
    }
       stage('Junit Test Case') {
      steps {
        bat 'mvn test'
      }
    }
       stage('SonarQube analysis') {
            agent{
            		label 'master'
            	}
            
            steps {
       			script{
       					scannerHome=tool'sonarqube scanner 3.3.0
       				}
       				withSonarQubeEnv('sonarqube')
       				{
       					sh "${scannerHome}/bin/sonar-scanner"
       				}	                     
       			}
       			}
       			
       
       
        
    